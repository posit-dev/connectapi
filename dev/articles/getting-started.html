<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started with connectapi â€¢ connectapi</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with connectapi">
<meta property="og:description" content="connectapi">
<meta property="og:image" content="https://pkgs.rstudio.com/connectapi/logo.svg">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">connectapi</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/connectapi_tags.html">connectapi Tags</a>
    </li>
    <li>
      <a href="../articles/content_permissions.html">Content Permissions</a>
    </li>
    <li>
      <a href="../articles/lifecycle-statuses.html">Lifecycle Statuses</a>
    </li>
    <li>
      <a href="../articles/customize-http.html">Customize HTTP Requests</a>
    </li>
    <li>
      <a href="../articles/getting-started.html">Getting Started with connectapi</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/connectapi/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting Started with connectapi</h1>
                        <h4 data-toc-skip class="author">Cole
Arendt</h4>
            
            <h4 data-toc-skip class="date">2024-01-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/connectapi/blob/HEAD/vignettes/getting-started.Rmd" class="external-link"><code>vignettes/getting-started.Rmd</code></a></small>
      <div class="hidden name"><code>getting-started.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="connecting">Connecting<a class="anchor" aria-label="anchor" href="#connecting"></a>
</h2>
<p>The first thing that you need to accomplish when using the
<code>connectapi</code> is getting connected to your Posit Connect
server. This requires the URL to your server and an API key. Directions
on how to get an API key are <a href="https://docs.posit.co/connect/user/api-keys/#api-keys" class="external-link">here</a>.</p>
<p>Once you have your API key, you can create a Connect object in your
code, like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/connectapi" class="external-link">connectapi</a></span><span class="op">)</span></span>
<span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/connect.html">connect</a></span><span class="op">(</span></span>
<span>  server <span class="op">=</span> <span class="st">"http://example.com:3939"</span>,</span>
<span>  api_key <span class="op">=</span> <span class="st">"aihgaahegiahgg"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The alternative is to define a <code>.Renviron</code> file, which
specifies environment variables:</p>
<pre><code>CONNECT_SERVER=http://example.com:3939
CONNECT_API_KEY=aihgaahegiahgg</code></pre>
<p>Then, those can be used in your code:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/connectapi" class="external-link">connectapi</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># this happens by default if you restart your R session</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRenviron.html" class="external-link">readRenviron</a></span><span class="op">(</span><span class="st">".Renviron"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/connect.html">connect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="content-management">Content Management<a class="anchor" aria-label="anchor" href="#content-management"></a>
</h2>
<p>The <code>connectapi</code> package has tools to help
programmatically deploy and manage content. To get started, you need to
use the <code>rsconnect</code> package, specifically the
<code><a href="https://rdrr.io/pkg/rsconnect/man/writeManifest.html" class="external-link">rsconnect::writeManifest()</a></code> function, to build a
<code>manifest.json</code> file for a directory of content that you want
to deploy.</p>
<p>Once the <code>manifest.json</code> file is present, you can
reference the directory and deploy it directly:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bnd</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bundle_dir.html">bundle_dir</a></span><span class="op">(</span><span class="st">"./my/directory"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># name must be unique on the server</span></span>
<span><span class="co"># if you do not specify it, a random value will be provided</span></span>
<span><span class="va">content_1</span> <span class="op">&lt;-</span> <span class="va">client</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/deploy.html">deploy</a></span><span class="op">(</span><span class="va">bnd</span>, name <span class="op">=</span> <span class="st">"my-content"</span>, title <span class="op">=</span> <span class="st">"Amazing Report!!"</span><span class="op">)</span></span></code></pre></div>
<p>The content object (<code>content_1</code>) includes information
about the deployment that you just requested. This can be explored
with:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">content_1</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/poll_task.html">poll_task</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, you can immediately begin altering the settings of the
content object while you wait for deployment to complete:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">content_1</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/set_image.html">set_image_url</a></span><span class="op">(</span><span class="st">"https://gph.is/29vyb0s"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/set_vanity_url.html">set_vanity_url</a></span><span class="op">(</span><span class="st">"/my_clever_content"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># ensure the vanity URL is set as expected</span></span>
<span><span class="va">content_1</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/get_vanity_url.html">get_vanity_url</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>If you have content that already exists and you want to update it,
you can do so using the content GUID (which you can find within Posit
Connect in the Info pane).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">content_2</span> <span class="op">&lt;-</span> <span class="va">client</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/deploy.html">deploy</a></span><span class="op">(</span><span class="va">bnd</span>, guid <span class="op">=</span> <span class="st">"d78ba9f8-bb57-422e-b164-9ecd8e4c4fd6"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/poll_task.html">poll_task</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>You can also use the Posit Connect content GUID to retrieve
information about existing content (if you want to examine or change
settings)</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">content_3</span> <span class="op">&lt;-</span> <span class="va">client</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/content_item.html">content_item</a></span><span class="op">(</span>guid <span class="op">=</span> <span class="st">"96532fbc-725e-441b-9cc6-a5622535241b"</span><span class="op">)</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Sean Lopp, Cole Arendt, Posit, PBC.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
